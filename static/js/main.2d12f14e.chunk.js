(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{169:function(t,e,n){},170:function(t,e,n){},191:function(t,e,n){"use strict";n.r(e);var a,i,o,l,c,r,s,d=n(1),u=n.n(d),f=n(57),h=n.n(f),b=(n(169),n(7)),x=n(6),g=(n.p,n(170),n(3)),j=n(14),v=n.n(j),m=n(2),O=n(17),p=n(5),k=n(0),y=function(t){var e=t.processedData,n=void 0===e?[]:e,a=t.scaleX,i=t.scaleY,o=t.color,l=t.gutter,c=void 0===l?2:l,r=Object(d.useRef)(null),s=Object(d.useMemo)((function(){return Math.max(Math.abs(a.range()[1]-a.range()[0])/((null===n||void 0===n?void 0:n.length)||1)-c,1)}),[c,n,a,i]);return Object(d.useEffect)((function(){r.current&&m.h(r.current).selectAll("g.bar").data(n).enter().append("g").classed("bar",!0).selectAll("rect.b").data((function(t){return[t]})).enter().append("rect").classed("b",!0).attr("x",(function(t){return a(new Date(t.date))-s})).attr("y",(function(t){return i(t.value)})).attr("width",s).attr("height",(function(t){return i(i.domain()[1]-t.value)})).attr("fill",o)}),[n,a,i]),Object(k.jsx)(k.Fragment,{children:Object(k.jsx)("g",{class:"bars",ref:r})})},w=n(28),B=n(62),E=function(t){var e=t.processedData,n=void 0===e?[]:e,a=t.scaleX,i=t.scaleY,o=(t.gutter,t.color),l=void 0===o?"#000":o,c=t.nMark,r=void 0===c?7:c,s=t.markOffset,u=void 0===s?24:s,f=Object(B.a)(t,["processedData","scaleX","scaleY","gutter","color","nMark","markOffset"]),h=Object(d.useRef)(null);Object(d.useEffect)((function(){if(h.current){var t=m.h(h.current);console.log(n),t.select("path").datum(n).attr("fill","none").attr("stroke",l).attr("stroke-width",3).attr("d",m.d().x((function(t){return a(new Date(t.date))})).y((function(t){return i(t.value)})))}}),[n]);var b=Object(d.useMemo)((function(){var t,e,o,l;return n.length<=0?{x:0,y:0}:(console.log("markPos",n,a(new Date(null===n||void 0===n||null===(t=n[r])||void 0===t?void 0:t.date)),i(null===n||void 0===n||null===(e=n[r])||void 0===e?void 0:e.value)),{x:a(new Date(null===n||void 0===n||null===(o=n[r])||void 0===o?void 0:o.date)),y:i(null===n||void 0===n||null===(l=n[r])||void 0===l?void 0:l.value)})}),[n,r]);return Object(k.jsx)(k.Fragment,{children:Object(k.jsxs)("g",Object(w.a)(Object(w.a)({class:"line",ref:h},f),{},{children:[Object(k.jsx)("path",{}),Object(k.jsxs)("g",{class:"average-mark",transform:"translate(".concat(b.x,",").concat(b.y,")"),children:[Object(k.jsx)("line",{x1:0,y1:0,x2:0,y2:-u,stroke:"#fff"}),Object(k.jsx)("text",{textAnchor:"middle",dominantBaseline:"baseline",y:-u-4,style:{fill:"#fff"},fontSize:12,fontWeight:"400",children:"\u0e04\u0e48\u0e32\u0e40\u0e09\u0e25\u0e35\u0e48\u0e22 7 \u0e27\u0e31\u0e19"})]})]}))})},S=function(t,e){return Object(d.useMemo)((function(){return t.map((function(t,n){return{date:t.date,value:e(t)}}))}),[t,e])},D=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:7;return Object(d.useMemo)((function(){return t.map((function(a,i){return a&&"number"===typeof e(a)?{date:a.date,value:t.map(e).filter((function(t,e){return i-n<=e&&e<=i})).reduce((function(t,e){return t+e}),0)/(Math.min(n,i)||1)}:void 0})).filter((function(t){return void 0!==t}))}),[t,e,n])},A=n(58),z=n.n(A),C=p.b.button(a||(a=Object(x.a)(["\n    color: #7F353E;\n    border: 1px #7F353E solid;\n    /* background-color: #C33646;\n    color: #fff !important; */\n    /* border: none; */\n    padding: 6px 12px;\n    border-radius: 8px;\n    font-family: 'Mitr', sans-serif;\n    font-size: 1rem;\n    text-decoration: none;\n    margin: 0;\n    display: inline-block;\n    \n    ","\n\n    ","\n\n    &:hover {\n        background-color: #7F353E;\n        color: #fff !important;\n        border: none;\n    }\n"])),(function(t){return t.isFullWidth&&Object(p.a)(i||(i=Object(x.a)(["\n        display: block;\n        width: auto;\n    "])))}),(function(t){return t.mb&&Object(p.a)(o||(o=Object(x.a)(["\n        margin-bottom: 16px;\n    "])))})),M=p.b.div(l||(l=Object(x.a)(["\n  /* padding: 30px; */\n  width: 100%;\n  /* margin-top: 10px; */\n  /* height: 50vh; */\n  flex: 1;\n  position: relative;\n  transition: all 0.2s;\n\n  text {\n    font-family: 'Mitr', sans-serif;\n  }\n\n  .axis line, .axis path {\n    stroke: white;\n  }\n\n  .axis text {\n    fill: white;\n    font-size: 12px;\n    font-family: 'Mitr', sans-serif;\n  }\n\n  text {\n    fill: #7F353E;\n  }\n\n  text.text-white {\n    fill: #fff;\n  }\n\n  .y-axis-deaths {\n    opacity: 0.3;\n\n    path {\n      opacity: 0;\n    }\n  }\n\n  .y-axis {\n    opacity: 0.4;\n\n    path {\n      opacity: 0;\n    }\n  }\n\n  .shadow {\n    filter: drop-shadow( 0px 8px 8px rgba(0, 0, 0, .2));\n    /* Similar syntax to box-shadow */\n  }\n\n  .x-axis text { opacity: 0; }\n  .x-axis-deaths text { opacity: 0; }\n"]))),_=(p.b.div(c||(c=Object(x.a)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n\n  font-family: 'Mitr', sans-serif;\n\n  \n"]))),function(t){var e,n,a,i,o,l,c,r,s,u,f,h,b,x,j,v,p,w,B,A,_,W,F,V,H,T,I,R,P,X,L,N,Y,Z,J=t.processedData,G=(t.datesRange,t.padding),K=void 0===G?{top:18,right:0,bottom:12,left:40}:G,q=(t.breakPoint,Object(d.useRef)(null)),Q=(Object(d.useRef)(null),Object(d.useRef)(null),640),U=640,$=32,tt=240,et=160,nt=576,at=16,it=200,ot=120,lt=K,ct=Object(O.a)({onResize:function(t){var e=t.observe,n=t.unobserve;t.width,t.height,t.entry;n(),e()}}),rt=(ct.observe,ct.unobserve,ct.w,ct.h,ct.entry,function(t){return t&&!Number.isNaN(t.get("day"))?"".concat(t.get("day")," ").concat(["","\u0e21.\u0e04.","\u0e01.\u0e1e.","\u0e21\u0e35.\u0e04.","\u0e40\u0e21.\u0e22.","\u0e1e.\u0e04.","\u0e21\u0e34.\u0e22.","\u0e01.\u0e04.","\u0e2a.\u0e04.","\u0e01.\u0e22.","\u0e15.\u0e04.","\u0e1e.\u0e22.","\u0e18.\u0e04. "][t.get("month")]," ").concat((t.get("year")+543)%100):""}),st=Object(d.useMemo)((function(){var t=J[J.length-1],e=g.DateTime.fromISO(null===t||void 0===t?void 0:t.date),n=e.weekday;return{iso:null===t||void 0===t?void 0:t.date,dateStr:rt(e),dayColor:["#C33646","#D5A21F","#C55A9A","#2B9649","#D5682A","#31A0C3","#7E48A4","#C33646"][n],weekdayStr:["\u0e2d\u0e32\u0e17\u0e34\u0e15\u0e22\u0e4c","\u0e08\u0e31\u0e19\u0e17\u0e23\u0e4c","\u0e2d\u0e31\u0e07\u0e04\u0e32\u0e23","\u0e1e\u0e38\u0e18","\u0e1e\u0e24\u0e2b\u0e31\u0e2a","\u0e28\u0e38\u0e01\u0e23\u0e4c","\u0e40\u0e2a\u0e32\u0e23\u0e4c","\u0e2d\u0e32\u0e17\u0e34\u0e15\u0e22\u0e4c"][n],weekdayNum:n}}),[J]),dt=D(J,(function(t){var e,n;return null!==(e=null===t||void 0===t||null===(n=t.bangkok)||void 0===n?void 0:n.new_cases)&&void 0!==e?e:0})),ut=S(J,(function(t){var e,n;return null!==(e=null===t||void 0===t||null===(n=t.bangkok)||void 0===n?void 0:n.new_cases)&&void 0!==e?e:0})),ft=(S(J,(function(t){var e,n;return null!==(e=null===t||void 0===t||null===(n=t.thailand)||void 0===n?void 0:n.NewConfirmed)&&void 0!==e?e:0})),S(J,(function(t){var e,n;return null!==(e=null===t||void 0===t||null===(n=t.bangkok)||void 0===n?void 0:n.new_death)&&void 0!==e?e:0}))),ht=D(J,(function(t){var e,n;return null!==(e=null===t||void 0===t||null===(n=t.bangkok)||void 0===n?void 0:n.new_death)&&void 0!==e?e:0})),bt=Object(d.useMemo)((function(){return Q-K.left-K.right}),[Q,K]),xt=Object(d.useMemo)((function(){return U-K.top-K.bottom}),[U,K]),gt=Object(d.useMemo)((function(){return m.g().domain(m.c(J,(function(t){return new Date(t.date)}))).range([0,344-lt.left-lt.right])}),[J,bt]),jt=Object(d.useMemo)((function(){return m.f().domain([0,m.e(J,(function(t){var e,n;return null!==(e=+(null===t||void 0===t||null===(n=t.bangkok)||void 0===n?void 0:n.new_cases))&&void 0!==e?e:0}))]).range([208-lt.top-lt.bottom,0])}),[J,xt]),vt=Object(d.useMemo)((function(){return m.f().domain([0,m.e(J,(function(t){var e,n;return null!==(e=+(null===t||void 0===t||null===(n=t.bangkok)||void 0===n?void 0:n.new_death))&&void 0!==e?e:0}))]).range([128-lt.top-lt.bottom,0])}),[J,xt]);Object(d.useEffect)((function(){if(q.current){var t=m.h(q.current);t.select("g.chart").attr("transform","translate(".concat(248+lt.left,",").concat(136+lt.top,")")),console.log(J),t.select("g.x-axis").attr("transform","translate(0,".concat(208-lt.bottom-lt.top,")")).call(m.a(gt).tickValues(gt.domain()).tickFormat((function(t){return g.DateTime.fromJSDate(t).toISODate()})).tickSize(0).tickPadding(8)),t.select("g.y-axis").call(m.b(jt).ticks(7).tickPadding(8).tickSize(-(344-K.left))),t.select("g.chart-death").attr("transform","translate(".concat(248+lt.left,",").concat(400+lt.top,")")),t.select("g.x-axis-deaths").attr("transform","translate(0,".concat(128-lt.bottom-lt.top,")")).call(m.a(gt).tickValues(gt.domain()).tickFormat((function(t){return g.DateTime.fromJSDate(t).toISODate()})).tickSize(0).tickPadding(8)),t.select("g.y-axis-deaths").call(m.b(vt).ticks(5).tickPadding(8).tickSize(-(344-K.left)))}}),[J]);return Object(k.jsx)(k.Fragment,{children:Object(k.jsxs)(M,{children:[Object(k.jsx)("div",{id:"container",children:Object(k.jsxs)("svg",{id:"chart",className:"d3-component",width:"100%",ref:q,viewBox:"0 0 ".concat(Q," ").concat(U),style:{backgroundColor:"#F3E1E3"},children:[Object(k.jsx)("text",{x:$,y:$,fontSize:24,dominantBaseline:"hanging",fontWeight:"600",children:"\u0e2a\u0e16\u0e32\u0e19\u0e01\u0e32\u0e23\u0e13\u0e4c COVID-19 \u0e43\u0e19"}),Object(k.jsx)("text",{x:$,y:52,fontSize:39,dominantBaseline:"hanging",fontWeight:"600",children:"\u0e01\u0e23\u0e38\u0e07\u0e40\u0e17\u0e1e\u0e21\u0e2b\u0e32\u0e19\u0e04\u0e23"}),Object(k.jsx)("rect",{x:448,y:$,width:160,height:64,rx:16,fill:st.dayColor}),Object(k.jsxs)("text",{x:528,y:42,dominantBaseline:"hanging",textAnchor:"middle",fontWeight:"400",fontSize:16,class:"text-white",children:["\u0e1b\u0e23\u0e30\u0e08\u0e33\u0e27\u0e31\u0e19",st.weekdayStr,"\u0e17\u0e35\u0e48"]}),Object(k.jsx)("text",{x:528,y:60,dominantBaseline:"hanging",textAnchor:"middle",fontWeight:"600",fontSize:24,class:"text-white",children:st.dateStr}),Object(k.jsxs)("g",{transform:"translate(".concat($,",").concat(ot,")"),children:[Object(k.jsx)("rect",{width:nt,height:tt,rx:16,fill:"#C33646",class:"shadow"}),Object(k.jsx)("rect",{width:it,height:tt,rx:16,fill:"#0002"}),Object(k.jsxs)("g",{transform:"translate(".concat(100,",").concat(112,")"),children:[Object(k.jsx)("text",{y:-48,dominantBaseline:"middle",textAnchor:"middle",fontWeight:"400",fontSize:24,class:"text-white",children:"\u0e1c\u0e39\u0e49\u0e15\u0e34\u0e14\u0e40\u0e0a\u0e37\u0e49\u0e2d\u0e22\u0e37\u0e19\u0e22\u0e31\u0e19"}),Object(k.jsxs)("text",{y:0,dominantBaseline:"middle",textAnchor:"middle",fontWeight:"600",fontSize:60,class:"text-white",children:["+",null===J||void 0===J||null===(e=J[J.length-1])||void 0===e||null===(n=e.bangkok)||void 0===n||null===(a=n.new_cases)||void 0===a||null===(i=a.toLocaleString)||void 0===i?void 0:i.call(a)]}),null!==(null!==(o=null===J||void 0===J||null===(l=J[J.length-1])||void 0===l||null===(c=l.bangkok)||void 0===c?void 0:c.new_cases_outskirt)&&void 0!==o?o:null)&&Object(k.jsxs)("text",{y:44,dominantBaseline:"middle",textAnchor:"middle",fontWeight:"400",fontSize:20,class:"text-white",children:["(\u0e1b\u0e23\u0e34\u0e21\u0e13\u0e11\u0e25 +",null===J||void 0===J||null===(r=J[J.length-1])||void 0===r||null===(s=r.bangkok)||void 0===s||null===(u=s.new_cases_outskirt)||void 0===u||null===(f=u.toLocaleString)||void 0===f?void 0:f.call(u),")"]})]}),Object(k.jsxs)("text",{x:100,y:224,dominantBaseline:"baseline",textAnchor:"middle",fontWeight:"400",fontSize:20,class:"text-white",style:{opacity:.6},children:["\u0e2a\u0e30\u0e2a\u0e21 ",null===J||void 0===J||null===(h=J[J.length-1])||void 0===h||null===(b=h.bangkok)||void 0===b||null===(x=b.accumulated_cases)||void 0===x||null===(j=x.toLocaleString)||void 0===j?void 0:j.call(x)," \u0e23\u0e32\u0e22"]}),Object(k.jsx)("text",{x:216+K.left,y:224-K.bottom+6,dominantBaseline:"hanging",textAnchor:"start",fontWeight:"400",fontSize:12,class:"text-white",children:rt(g.DateTime.fromISO(null===J||void 0===J||null===(v=J[0])||void 0===v?void 0:v.date))}),Object(k.jsx)("text",{x:560-K.right,y:224-K.bottom+6,dominantBaseline:"hanging",textAnchor:"end",fontWeight:"400",fontSize:12,class:"text-white",children:rt(g.DateTime.fromISO(null===J||void 0===J||null===(p=J[(null===J||void 0===J?void 0:J.length)-1])||void 0===p?void 0:p.date))}),Object(k.jsx)("text",{y:at,x:560,fontSize:12,dominantBaseline:"hanging",textAnchor:"end",class:"text-white",style:{opacity:.6},children:"\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25\u0e22\u0e49\u0e2d\u0e19\u0e2b\u0e25\u0e31\u0e07 2 \u0e40\u0e14\u0e37\u0e2d\u0e19"})]}),Object(k.jsxs)("g",{class:"chart",children:[Object(k.jsx)("g",{class:"x-axis axis"}),Object(k.jsx)("g",{class:"y-axis axis"}),Object(k.jsx)(y,{processedData:ut,color:"#fff6",scaleX:gt,scaleY:jt}),Object(k.jsx)(E,{processedData:dt,color:"#fff",scaleX:gt,scaleY:jt})]}),Object(k.jsxs)("g",{transform:"translate(".concat($,",").concat(384,")"),children:[Object(k.jsx)("rect",{width:nt,height:et,rx:16,fill:"#333031",class:"shadow"}),Object(k.jsx)("rect",{width:it,height:et,rx:16,fill:"#fff1"}),Object(k.jsxs)("g",{transform:"translate(".concat(100,",").concat(74,")"),children:[Object(k.jsx)("text",{y:-44,dominantBaseline:"middle",textAnchor:"middle",fontWeight:"400",fontSize:24,class:"text-white",children:"\u0e1c\u0e39\u0e49\u0e40\u0e2a\u0e35\u0e22\u0e0a\u0e35\u0e27\u0e34\u0e15"}),Object(k.jsxs)("text",{y:0,dominantBaseline:"middle",textAnchor:"middle",fontWeight:"600",fontSize:48,class:"text-white",children:["+",null===J||void 0===J||null===(w=J[J.length-1])||void 0===w||null===(B=w.bangkok)||void 0===B||null===(A=B.new_death)||void 0===A||null===(_=A.toLocaleString)||void 0===_?void 0:_.call(A)]}),null!==(null!==(W=null===J||void 0===J||null===(F=J[J.length-1])||void 0===F||null===(V=F.bangkok)||void 0===V?void 0:V.new_death_outskirt)&&void 0!==W?W:null)&&Object(k.jsxs)("text",{y:36,dominantBaseline:"middle",textAnchor:"middle",fontWeight:"400",fontSize:20,class:"text-white",children:["(\u0e1b\u0e23\u0e34\u0e21\u0e13\u0e11\u0e25 +",null===J||void 0===J||null===(H=J[J.length-1])||void 0===H||null===(T=H.bangkok)||void 0===T||null===(I=T.new_death_outskirt)||void 0===I||null===(R=I.toLocaleString)||void 0===R?void 0:R.call(I),")"]}),Object(k.jsxs)("text",{y:66,dominantBaseline:"baseline",textAnchor:"middle",fontWeight:"400",fontSize:20,class:"text-white",style:{opacity:.5},children:["\u0e2a\u0e30\u0e2a\u0e21 ",null===J||void 0===J||null===(P=J[J.length-1])||void 0===P||null===(X=P.bangkok)||void 0===X||null===(L=X.accumulated_death)||void 0===L||null===(N=L.toLocaleString)||void 0===N?void 0:N.call(L)," \u0e23\u0e32\u0e22"]})]}),Object(k.jsx)("text",{x:216+K.left,y:144-K.bottom+6,dominantBaseline:"hanging",textAnchor:"start",fontWeight:"400",fontSize:12,class:"text-white",children:rt(g.DateTime.fromISO(null===J||void 0===J||null===(Y=J[0])||void 0===Y?void 0:Y.date))}),Object(k.jsx)("text",{x:560-K.right,y:144-K.bottom+6,dominantBaseline:"hanging",textAnchor:"end",fontWeight:"400",fontSize:12,class:"text-white",children:rt(g.DateTime.fromISO(null===J||void 0===J||null===(Z=J[(null===J||void 0===J?void 0:J.length)-1])||void 0===Z?void 0:Z.date))}),Object(k.jsx)("text",{y:at,x:560,fontSize:12,dominantBaseline:"hanging",textAnchor:"end",class:"text-white",style:{opacity:.5},children:"\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25\u0e22\u0e49\u0e2d\u0e19\u0e2b\u0e25\u0e31\u0e07 2 \u0e40\u0e14\u0e37\u0e2d\u0e19"})]}),Object(k.jsxs)("g",{class:"chart-death",children:[Object(k.jsx)("g",{class:"x-axis-deaths axis"}),Object(k.jsx)("g",{class:"y-axis-deaths axis"}),Object(k.jsx)(y,{processedData:ft,color:"#fff6",scaleX:gt,scaleY:vt}),Object(k.jsx)(E,{processedData:ht,color:"#fff",scaleX:gt,scaleY:vt})]}),Object(k.jsx)("text",{x:$,y:588,dominantBaseline:"bottom",fontWeight:"400",fontSize:16,fill:"#222",children:"\u0e23\u0e27\u0e1a\u0e23\u0e27\u0e21\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25\u0e08\u0e32\u0e01 \u0e28\u0e1a\u0e04. \u0e41\u0e25\u0e30 bangkok.go.th/covid19"}),Object(k.jsx)("text",{x:$,y:608,dominantBaseline:"bottom",fontWeight:"400",fontSize:16,fill:"#222",children:"\u0e14\u0e39\u0e01\u0e23\u0e32\u0e1f\u0e41\u0e25\u0e30\u0e44\u0e1f\u0e25\u0e4c\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25\u0e44\u0e14\u0e49\u0e17\u0e35\u0e48 taepras.com/bkkcovid"}),Object(k.jsx)("g",{transform:"translate(".concat(608,",").concat(608,")"),children:Object(k.jsxs)("g",{transform:"translate(-54,-32)",children:[Object(k.jsx)("path",{d:"M21.9537 20.21C23.8502 22.7782 26.2604 22.9758 27.4457 22.9758C29.9744 22.9758 31.9499 21.988 33.2538 20.7632C34.2416 19.8149 35.9406 17.7208 35.9406 13.8488C35.9406 10.4508 34.6367 8.31716 33.3724 7.05286C31.4363 5.1168 29.0262 4.7612 27.5247 4.7612C24.3638 4.7612 22.7044 6.46019 21.9537 7.52694V5.31435H17.1333V31.4706H21.9537V20.21ZM26.2209 9.02841C27.3667 9.02841 28.6311 9.463 29.5003 10.2532C30.4485 11.162 30.9622 12.5844 30.9622 13.8488C30.9622 15.1131 30.488 16.5355 29.4608 17.4838C28.8286 18.0764 27.8013 18.7086 26.2209 18.7086C24.7195 18.7086 23.6921 18.1159 23.06 17.5627C22.1117 16.733 21.4795 15.4292 21.4795 13.8488C21.4795 12.2683 22.0327 11.083 23.0995 10.1742C23.9687 9.38397 24.9565 9.02841 26.2209 9.02841Z",fill:"#222222"}),Object(k.jsx)("path",{d:"M14.5573 10.1777V5.35121H9.7309V0.524704H4.90437V5.35121H0.0778656V10.1777H4.90437V19.5089H9.7309V10.1777H14.5573Z",fill:"#222222"}),Object(k.jsx)("path",{d:"M14.5574 19.5089H9.7309V24.3354H14.5574V19.5089Z",fill:"#222222"}),Object(k.jsx)("path",{d:"M52.6494 28.5618V23.7323H34.733V28.5618H52.6494Z",fill:"#14E1CA"})]})})]})}),Object(k.jsxs)("div",{style:{textAlign:"center",margin:"30px"},children:[Object(k.jsxs)("div",{style:{display:"flex",justifyContent:"center",marginBottom:"16px"},children:[Object(k.jsx)("div",{className:"fb-share-button","data-href":"https://taepras.github.io/bkkcovid/","data-layout":"button","data-size":"large",style:{marginRight:"16px"},children:Object(k.jsx)("a",{target:"_blank",href:"https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Ftaepras.github.io%bkkcovid%2F&src=sdkpreparse",className:"fb-xfbml-parse-ignore",rel:"noreferrer",children:"Share"})}),Object(k.jsx)("a",{href:"https://twitter.com/share?ref_src=twsrc%5Etfw",className:"twitter-share-button","data-size":"large","data-url":"https://taepras.github.io/bkkcovid/","data-via":"taepras","data-dnt":"true","data-show-count":"false",children:"Tweet"}),Object(k.jsx)("div",{style:{marginLeft:"16px",display:"inline-block"},children:Object(k.jsx)("div",{className:"line-it-button","data-lang":"en","data-type":"share-a","data-ver":"3","data-url":"https://taepras.github.io/bkkcovid/","data-color":"default","data-size":"large","data-count":"false"})})]}),Object(k.jsxs)("div",{style:{display:"flex",marginBottom:"32px"},children:[Object(k.jsx)(C,{as:"a",href:"#",onClick:function(){console.log(q.current);var t=document.getElementById("container");console.log(t.offsetHeight,t.offsetWidth),z.a.toPng(t,{height:3*t.offsetHeight,width:3*t.offsetWidth,style:{transform:"scale(".concat(3,") translate(").concat(t.offsetWidth/3,"px, ").concat(t.offsetHeight/3,"px)")}}).then((function(t){var e=document.createElement("a");e.download="bkkcovid-".concat(st.iso,".png"),e.href=t,e.click()})).catch((function(t){return console.error(t)}))},isFullWidth:!0,mb:!0,style:{flexGrow:1,flexBasis:0,marginRight:"8px"},children:"\u0e14\u0e32\u0e27\u0e19\u0e4c\u0e42\u0e2b\u0e25\u0e14\u0e44\u0e1f\u0e25\u0e4c\u0e20\u0e32\u0e1e"}),Object(k.jsx)(C,{as:"a",href:"https://docs.google.com/spreadsheets/d/1VY6ddD-DdmgIlX_RiFZnIa7ZFXB-mH8nD0hVxaROrP0/edit#gid=0",target:"_blank",isFullWidth:!0,mb:!0,style:{flexGrow:1,flexBasis:0,marginLeft:"16px"},children:"\u0e14\u0e39\u0e44\u0e1f\u0e25\u0e4c\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25"})]}),Object(k.jsxs)("p",{style:{lineHeight:1.2},children:["\u0e02\u0e2d\u0e1a\u0e04\u0e38\u0e13\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25\u0e15\u0e31\u0e27\u0e40\u0e25\u0e02\u0e08\u0e32\u0e01 ",Object(k.jsx)("a",{href:"https://www.facebook.com/informationcovid19",target:"_blank",children:"\u0e28\u0e1a\u0e04."})," \u0e41\u0e25\u0e30 ",Object(k.jsx)("a",{href:"http://www.bangkok.go.th/covid19",target:"_blank",children:"\u0e01\u0e17\u0e21."}),Object(k.jsx)("br",{}),"\u0e23\u0e27\u0e1a\u0e23\u0e27\u0e21\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25\u0e41\u0e25\u0e30\u0e17\u0e33 visualization \u0e42\u0e14\u0e22",Object(k.jsx)("br",{}),Object(k.jsx)("a",{href:"https://taepras.com",target:"_blank",children:"\u0e18\u0e19\u0e27\u0e34\u0e0a\u0e0d\u0e4c \u0e1b\u0e23\u0e30\u0e2a\u0e07\u0e04\u0e4c\u0e1e\u0e07\u0e29\u0e4c\u0e0a\u0e31\u0e22 (taepras.com)"}),Object(k.jsx)("br",{}),Object(k.jsx)("br",{}),Object(k.jsx)("a",{href:"https://taepras.medium.com/%E0%B8%9A%E0%B8%B1%E0%B8%99%E0%B8%97%E0%B8%B6%E0%B8%81%E0%B8%81%E0%B8%B2%E0%B8%A3-%E0%B9%80%E0%B8%A3%E0%B8%B4%E0%B9%88%E0%B8%A1%E0%B8%97%E0%B8%B5%E0%B9%88%E0%B8%95%E0%B8%B1%E0%B8%A7%E0%B9%80%E0%B8%AD%E0%B8%87-%E0%B8%81%E0%B8%B1%E0%B8%9A%E0%B8%81%E0%B8%A3%E0%B8%B2%E0%B8%9F%E0%B9%82%E0%B8%84%E0%B8%A7%E0%B8%B4%E0%B8%94%E0%B9%83%E0%B8%99%E0%B8%81%E0%B8%A3%E0%B8%B8%E0%B8%87%E0%B9%80%E0%B8%97%E0%B8%9E-cbf7d41e2f94",target:"_blank",children:"\u0e2d\u0e48\u0e32\u0e19\u0e17\u0e35\u0e48\u0e21\u0e32\u0e02\u0e2d\u0e07\u0e01\u0e32\u0e23\u0e17\u0e33\u0e01\u0e23\u0e32\u0e1f\u0e19\u0e35\u0e49 (medium.com)"})]})]})]})})}),W=n(30),F=n.n(W),V=(p.b.div(r||(r=Object(x.a)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  display: flex;\n  flex-direction: column;\n  /* padding: 30px; */\n"]))),p.b.div(s||(s=Object(x.a)(["\n  width: 100%;\n  max-width: 640px;\n  margin: auto;\n"]))));var H=function(){var t=Object(d.useState)(),e=Object(b.a)(t,2),n=e[0],a=e[1],i=Object(d.useState)(),o=Object(b.a)(i,2),l=o[0],c=o[1],r=Object(d.useState)(g.DateTime.now().minus({months:2}).startOf("day")),s=Object(b.a)(r,2),u=s[0],f=s[1],h=Object(d.useState)(g.DateTime.now().startOf("day")),x=Object(b.a)(h,2),j=x[0],m=x[1],O=Object(d.useMemo)((function(){for(var t=[],e=u;e<=j;)t.push(e.toISODate()),e=e.plus({days:1});return t}),[u,j]);Object(d.useEffect)((function(){F.a.get("https://covid19.th-stat.com/api/open/timeline").then((function(t){console.log(t.data),a(t.data)})),F.a.get("https://docs.google.com/spreadsheets/d/e/2PACX-1vR5KEVlTJbefwhG7GXg5swMW1rDSctbXuwZR-omHnxdet_DReCYnu0r_CVgzLTxwPqKlz4WMvKOppv1/pub?gid=0&single=true&output=csv").then((function(t){var e=v.a.parse(t.data,{header:!0,dynamicTyping:!0});console.log("gsheets",e);var n=g.DateTime.fromISO(e.data[e.data.length-1].date);m(n),f(n.minus({months:2}).startOf("day")),c(e)}))}),[]);var p=Object(d.useMemo)((function(){if(!n||!l)return[];var t=n.Data.filter((function(t){var e=g.DateTime.fromJSDate(new Date(t.Date));return e>=u.startOf("day")&&e<=j.endOf("day")})),e=l.data.filter((function(t){var e=g.DateTime.fromISO(t.date);return e>=u.startOf("day")&&e<=j.endOf("day")})),a=O.map((function(n){var a,i,o,l;return{date:n,thailand:null!==(a=null===t||void 0===t||null===(i=t.filter((function(t){return e=t.Date,"".concat(e.substr(6,4),"-").concat(e.substr(0,2),"-").concat(e.substr(3,2))===n;var e})))||void 0===i?void 0:i[0])&&void 0!==a?a:{},bangkok:null!==(o=null===e||void 0===e||null===(l=e.filter((function(t){return t.date===n})))||void 0===l?void 0:l[0])&&void 0!==o?o:{}}}));return console.log("gs",e,a),a}),[n,l,u,j,O]);return Object(k.jsx)("div",{className:"App",children:Object(k.jsx)(V,{children:Object(k.jsx)(_,{datesRange:O,processedData:p})})})},T=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,192)).then((function(e){var n=e.getCLS,a=e.getFID,i=e.getFCP,o=e.getLCP,l=e.getTTFB;n(t),a(t),i(t),o(t),l(t)}))};h.a.render(Object(k.jsx)(u.a.StrictMode,{children:Object(k.jsx)(H,{})}),document.getElementById("root")),T()}},[[191,1,2]]]);
//# sourceMappingURL=main.2d12f14e.chunk.js.map